ğŸŒŸ PARTE 1 â€” Como transformar um DER em tabelas (esquema fÃ­sico)
âœ” PASSO 1 â€” Identificar ENTIDADES

No seu DER:

Aluno

Professor

TitulaÃ§Ã£o

Cada entidade vira uma tabela.

âœ” PASSO 2 â€” Identificar ATRIBUTOS

Exemplo:

Aluno: ra, nome, professor_prontuario
Professor: prontuario, nome, titulacao_id
TitulaÃ§Ã£o: id, nome

Dica:
ğŸ‘‰ Sempre escolha UMA coluna pra ser PRIMARY KEY
(geralmente um ID, RA, prontuÃ¡rio).

âœ” PASSO 3 â€” Identificar RELACIONAMENTOS

Se no DER estiver assim:

Aluno â†’ Orientado por â†’ Professor

Isso significa:
ğŸ‘‰ Aluno tem uma chave estrangeira (FK) apontando para Professor.

Ou seja:

professor_prontuario INT REFERENCES professor(prontuario)


Se estiver assim:

Professor â†’ possui â†’ TitulaÃ§Ã£o

Mesma lÃ³gica:

titulacao_id INT REFERENCES titulacao(id)

âœ” PASSO 4 â€” Criar as tabelas em SQL, comeÃ§ando pela â€œtabela paiâ€

A ordem IDEAL:

TitulaÃ§Ã£o

Professor (depende da titulaÃ§Ã£o)

Aluno (depende do professor)

Por quÃª?
Porque FK sÃ³ funciona se a tabela referenciada jÃ¡ existir.

âœ” MODELO GERAL PARA CRIAR TABELA
CREATE TABLE nome (
    coluna1 tipo CONSTRAINT,
    coluna2 tipo CONSTRAINT,
    ...
    FOREIGN KEY (coluna) REFERENCES outra_tabela(coluna)
);


Exemplo simples:

CREATE TABLE aluno (
    ra SERIAL PRIMARY KEY,
    nome VARCHAR(100) NOT NULL
);

ğŸŒŸ PARTE 2 â€” Como fazer INSERT (inserir dados)

Regra de ouro:
ğŸ‘‰ SEMPRE insira dados na tabela â€œpaiâ€ antes da tabela â€œfilhaâ€.

Exemplo:
TitulaÃ§Ã£o â†’ Professor â†’ Aluno

âœ” MODELO
INSERT INTO tabela (colunas...)
VALUES (valores...);


Exemplo prÃ¡tico:

INSERT INTO aluno (nome, professor_prontuario)
VALUES ('Julia', 1);


Se o professor 1 nÃ£o existir â†’ dÃ¡ erro de FK.

ğŸŒŸ PARTE 3 â€” Como fazer SELECT com JOIN
âœ” Quando usar JOIN?

Quando vocÃª precisa buscar dados de duas ou mais tabelas ao mesmo tempo.

âœ” MODELO
SELECT campos
FROM tabela1 AS apelido1
JOIN tabela2 AS apelido2
     ON apelido1.fk = apelido2.pk;


Exemplo prÃ¡tico:

SELECT a.nome, p.nome
FROM aluno a
JOIN professor p ON a.professor_prontuario = p.prontuario;


AS sÃ³ cria apelido â†’ facilita a leitura.

ğŸŒŸ PARTE 4 â€” Como fazer consulta com restriÃ§Ã£o (WHERE)

USE WHERE para filtrar.

âœ” MODELO
SELECT * FROM tabela
WHERE coluna = valor;


E quando for NULL:

WHERE coluna IS NULL


Exemplo:

SELECT * FROM aluno
WHERE professor_prontuario IS NULL;

ğŸŒŸ PARTE 5 â€” FULL OUTER JOIN (o mais difÃ­cil)

FULL OUTER JOIN junta tudo:

quem tem correspondÃªncia

quem NÃƒO tem

da tabela da esquerda

da tabela da direita

âœ” MODELO
SELECT *
FROM tabela1
FULL OUTER JOIN tabela2
     ON tabela1.fk = tabela2.pk;


Exemplo prÃ¡tico:

SELECT a.nome, p.nome
FROM aluno a
FULL OUTER JOIN professor p
     ON a.professor_prontuario = p.prontuario;

ğŸŒŸ PARTE 6 â€” UPDATE (atualizar)
âœ” MODELO
UPDATE tabela
SET coluna = valor
WHERE condiÃ§Ã£o;


Se esquecer o WHERE â†’ atualiza tudo.

ğŸŒŸ PARTE 7 â€” DELETE com subconsulta

Use quando precisa deletar registros baseados em outra tabela.

âœ” MODELO
DELETE FROM tabela
WHERE pk NOT IN (SELECT fk FROM outra_tabela);


Exemplo:

DELETE FROM professor
WHERE prontuario NOT IN (SELECT professor_prontuario FROM aluno);
